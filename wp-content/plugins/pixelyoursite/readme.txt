===PixelYourSite - Your smart PIXEL (TAG) & API Manager===
Contributors: PixelYourSite
Tags: Meta Pixel, Meta Conversion API, Google Analytics 4, Google Tag Manager, Google Consent Mode V2
Requires at least: 3.0.1
Requires PHP: 5.4
Tested up to: 6.8
Stable tag: 11.0.1.2
License: GPLv3
License URI: http://www.gnu.org/licenses/gpl-3.0.html

Add Meta Pixel with Conversion API, Google Analytics (GA4) + Consent Mode, Google Tag Manager, and Head & Footer scripts. 

== Description ==
**PixelYourSite Free Version: Complete Tracking Solution for the Meta Pixel, Google Analytics 4, and Google Tag Manager.**

Easily integrate Meta Pixel with full Conversion API support, Google Analytics 4, and Google Tag Manager into your WordPress site. Plus, use our simple Head and Footer script option to add any custom script you need for advanced tracking and optimization. The Pinterest Tag can be implemented via this [paid add-on](https://www.pixelyoursite.com/pinterest-tag). Similar paid add-on for the [Bing tag](https://www.pixelyoursite.com/plugins/pixelyoursite-professional/bing-tag-add-on)

**Free training:** 

We have a YouTube channel called [PixelYourSite](https://www.youtube.com/channel/UCnie2zvwAjTLz9B4rqvAlFQ) where we explain a lot of stuff about the plugin, Meta API, Google Analytics, Google Ads, TikTok and so on. Check this to learn **how to improve your Meta EMQ score with Facebook Login** (facebook_login_id):

[youtube https://www.youtube.com/watch?v=Wv6KhJQqFL4]

**PixelYourSite will help you:**

* Install the Meta Pixel with Conversion API support. 

* Install Google Analytics 4 (GA4).

* Install Google Tag Manager and push events into the data layer with ZERO coding (NEW).

* Configure Google Consent Mode: [check this dedicated page for more details](https://www.pixelyoursite.com/google-consent-mode-v2-wordpress).

* Configure Google Tag Manager Server-Side Tagging for our native GA4 script: [more details here](https://www.pixelyoursite.com/google-server-side-tagging-with-pixelyoursite).

* Install any other scripts with our Head & Footer option. 


**PixelYourSite & WooCommerce:**

* All e-commerce speciffic events are automatically  fired.

* All parameters required for dynamic ads (Meta or Google) are present.

* Flexible options for product IDs (default IDs, or SKU).

* The plugin can also use Facebook for WooCommerce product ID logic. You can use our advanced tracking and Facebook for WooCommerce catalogs.

* Client data is used to improve Meta EMQ score for the API events.


**PixelYourSite & Easy Digital Downloads:**

* All e-commerce speciffic events are automatically  fired.

* All parameters required for dynamic ads (Meta or Google) are present.

* Client data is used to improve Meta EMQ score for the API events.


**Track key actions with our automated events:**

* Searches (search keywords are tracked as parameters).

* Form submissions.

* User signups.

* User login.

* Downloads (file names and type are tracked as parameters).

* Comments.

* Page scroll.

* Time on page. 


**Track other actions with your own events:** 

* Configure any standard or custom event for Meta, GA4, or GTM.


**Head & Footer functionality. Add your own scripts:**

* On all pages. 

* On speciffic pages.

* On the WooCommerce order received page.

* For all devices, for desktop, or mobile only. 


**Consent & GDPR**:

* The plugin integrates with some of the most popular consent solutions. 

* It has consent filters allowing other consent plugins to control our scripts and cookies. 

* It can fire GA4 tags with Google Consent Mode granted.

* Dedicated filter that enables Meta Limited Data Use.

* It's fully integrated with [ConsentMagic](https://www.pixelyoursite.com/plugins/consentmagic).


**Google Tag Manager**

PixelYourSite is known for its easy integration of the Meta Pixel, Google Analytics, TikTok (paid), Pinterest (paid add-on), and Bing (paid add-on). What makes it special is its new Google Tag Manager integration, pushing all events into the GTM data layer with no coding required.

GTM Container Import: to simplify GTM setup we offer you a GTM Container Import file that will configure triggers for all our events and variables for all our parameters. Version 1.0 of this file comes with Google Analytics 4 tags pre-configured: [Watch this video to learn more](https://www.youtube.com/watch?v=qKJ3mmCgT3M).


**Key resources:**


Learn how to [verify your domain on Facebook](https://www.pixelyoursite.com/verify-domain-facebook)

Learn how to handle [Google Consent Mode V2](https://www.pixelyoursite.com/google-consent-mode-v2-wordpress)

Learn how to improve [Meta EMQ Score](https://www.pixelyoursite.com/facebook-event-match-quality-score)

Learn how tot track [WordPress Forms](https://www.pixelyoursite.com/track-wordpress-forms)

Learn more about [Automated Events](https://www.pixelyoursite.com/global-events)

Learn more about [Native WooCommerce Reports](https://www.pixelyoursite.com/woocommerce-first-party-reports)

Learn how to [analyse PixelYourSite data with ChatGPT](https://www.pixelyoursite.com/pixelyoursite-and-chatgpt)

Learn how to [setup GTM server side tagging with the native GA4 integration](https://www.pixelyoursite.com/google-server-side-tagging-with-pixelyoursite)



**Even more features with our paid plugins:**


PixelYourSite development is supported by our paying customers. We've turned [PixelYourSite Professional](https://www.pixelyoursite.com/plugins/pixelyoursite-professional) into a powerful tracking tool. Alongside it, we offer a range of plugins, like the [WooCommerce Feed Plugin](https://www.pixelyoursite.com/plugins/product-catalog-feed-for-woocommerce) and our consent management solution, [ConsentMagic](https://www.pixelyoursite.com/plugins/consentmagic).


The list of paid feature is long and growing:


* Support for Google Ads tags.

* Support for TikTok tags.

* Pinterest and Bing support via paid add-ons. 

* More automated events, tracking even more key actions. 

* More parameters for our events, including landing page, traffic source, or UTMs tracking.

* More triggers for your own events: Clicks on links and CSS Selectors, Number of Page Views, Mouse over CSS Selectors, Embedded video views, Email link click, Page scroll, Post type, and direct integrations with various Form plugins plus Elementor forms.

* More events triggers on top of the ones available in the free version (URL filters, Device, User role): URL parameters, Landing page, Source.

* Better tracking of user data for an improved EMQ score, including the ability to get user data from forms, or URLs.

* Improved tracking of WooCommerce and EDD purchases.

* Support for multiple tags.

* The possibility to configure where to fire or hide a particular tag based on flexible conditions. 

* Native WooCommerce and EDD reporting.

* ... and many more!


DON'T MISS:


**Documentation**: learn how to use PixelYourSite free plugin. [Click here for the HELP articles](https://www.pixelyoursite.com/pixelyoursite-free-version)


== Installation ==
* From the WP admin panel, click \"Plugins\" -> \"Add new\".
* In the browser input box, type \"PixelYourSite\".
* Select the \"PixelYourSite\" plugin (authored by \"PixelYourSite\"), and click \"Install\".
* Activate the plugin.

OR...

* Download the plugin from this page.
* Save the .zip file to a location on your computer.
* Open the WP admin panel, and click \"Plugins\" -> \"Add new\".
* Click \"upload\".. then browse to the .zip file downloaded from this page.
* Click \"Install\".. and then \"Activate plugin\".

OR...

* Download the plugin from this page.
* Extract the .zip file to a location on your computer.
* Use either FTP or your host's cPanel to gain access to your website file directories.
* Browse to the `wp-content/plugins` directory.
* Upload the extracted `wp_edit` folder to this directory location.
* Open the WP admin panel.. click the \"Plugins\" page.. and click \"Activate\" under the newly added plugin.


== Frequently Asked Questions ==
We maintain an up-to-date FAQ page on our site: [Click Here for the FAQ Page](http://www.pixelyoursite.com/facebool-pixel-master-faq)

**FACEBOOK PIXEL: Do I need to copy/paste the full Facebook Pixel code somewhere?**

No, you just have to enter your pixel ID in the dedicated field. The plugin will do the rest for you.

**FACEBOOK PIXEL: Where can I find the Facebook Pixel ID?**

You can find it here:
<a href="https://www.facebook.com/ads/manager/pixel/facebook_pixel" target="_blank">https://www.facebook.com/ads/manager/pixel/facebook_pixel</a>

**FACEBOOK PIXEL: Can I use the plugin for  Custom Audiences or Custom Conversions?**

Absolutely yes! Actually, the plugin will super-optimize your site for Custom Audiences and Custom Conversions.

You will be able to create the classical ones based on URLs, but also Custom Combinations, like people who visited posts from category XYZ, or tagged with tag ABC in the last 30 days.

Use the PRO version, and you'll be able to do crazy things, like targeting people that came from Google and visited products under category "blue widget", or clients who bought products of at least $100, using the discount coupon "promo".

**FACEBOOK PIXEL: I used the old Facebook Pixel, will my audiences still work?**

Yes, they will, you won't lose anything.

**FACEBOOK PIXEL: Does it work with WooCommerce?**

Yes, it does. The plugin adds all the necessary events, like ViewContent, AddToCart, InitiateCheckout, and Purchase. This way you can easily track conversions and conversion value.

**FACEBOOK PIXEL: Do I have to manually add the events for WooCommerce?**

No, you don't, the plugin will take care of everything for you.

**FACEBOOK PIXEL: Does it work with Easy Digital Downloads?**

Yes, it works in the same way it does with WooCommerce.

**FACEBOOK PIXEL: Does it work with Dynamic Product Ads (promote a product catalog)**

Yes, all the WooCommerce and EDD pixel events are Dynamic Ads ready.

**FACEBOOK PIXEL: Can I fire additional events if I need to?**

Of course, you can fire any type of event (standard or custom).

There are several triggers you can use:

*URL includes (supports delay)
*URL equals (supports delay)
*Click on HTML link (pro)
*Click on CSS Selector (pro)
*Mouse over CSS Selector (pro)
*Page scroll (pro)

**FACEBOOK PIXEL: I have the pixel installed on my website and I am running a Facebook Campaign, but the reports are confusing me. How can I see my campaign results?**

We have an article about how to create Custom Reports: [How to optimize your Facebook Ads Reports for events tracking](https://www.pixelyoursite.com/how-to-manage-reports-inside-your-facebook-ads-manager-video)

**GOOGLE ANALYTICS: Do I need to copy/paste all the Google Analytics code?**

No, you just need to copy/paste your Google Analytics UA id.

**GOOGLE ANALYTICS: Where can I find my Google Analytics UA id?**

You can find it right inside your Google Analytics account, under Property Settings.
For more information on how to get your UA id, [follow this link](https://www.pixelyoursite.com/documentation/add-your-google-analytics-code)

**GOOGLE ANALYTICS: Is Google Analytics Enhanced Ecommerce supported?**

Yes, Google Analytics Enhanced Ecommerce data is tracked automatically for WooCommerce and Easy Digital Downloads.

**HEAD AND FOOTER: Can I add any scripts I want with your Head and Footer option?**

Yes, you can add any type of scripts you want.

**HEAD AND FOOTER: Can I show scripts just on mobile or desktop?**

Yes, you can.
You can configure scripts for all devices, just for mobile, or just for desktop.

**HEAD AND FOOTER: Can I hide scripts on some pages.**

Yes, you can hide the global scripts on any page you want.

**HEAD AND FOOTER: Can I add scripts on WooCommerce's order-received page?**

Yes, you can add or hide scripts on the WooCommerce's order-received page.

**PINTEREST TAG: Do I need to install your free Pinterest add-on?**

Yes, if you want to implement the Pinterest tag you'll need our free Pinterest add-on.
You can [get it from here](https://www.pixelyoursite.com/pinterest-tag)

**PINTEREST TAG: Where can I find my Pinterest tag ID?**

You can find your Pinterest tag ID inside your Pinterest account.
For more information go to our [help page](https://www.pixelyoursite.com/documentation/add-your-pinterest-tag)

**PINTEREST TAG: Can I fire my own Pinterest events?**

Yes, you can fire your own Pinterest tags events effortless.

There are several triggers you can use:

*URL includes (supports delay)
*URL equals (supports delay)
*Home page
*Page scroll
*Post type
*Click on HTML link (pro)
*Click on CSS Selector (pro)
*Mouse over CSS Selector (pro)
*Page scroll (pro)

**PINTEREST TAG: I use WooCommerce or EDD, do I need to add the Pinterest events myself?**

No, absolutely not!
The plugin will fire all the Pinterest e-commerce events automatically.

**Will your plugin increase the loading time of my site?**

The plugin itself is really fast. However, you have to remember that the pixel has to communicate with Facebook, Google, or Pinterest to send all the data, and this will add a little load on your site.

Will this impact on your visitors? No, because all the requests are asynchronous, meaning that the browser will continue to load and your users will not see any delay whatsoever.

**Are there any known incompatibilities with other themes or plugins?**

There are a few you should consider:

*Any plugin or solution that implements the same pixel or tag. Having the same tracking pixel added twice can cause problems.

*We had a problem with Mamaya, a retargeting service.

*It won't work with LeadPages or any similar system because those pages are generated outside WordPress.

*Some clients reported problems with Thrive landing pages. This happens because Thrive removes other plugins JS files.

There's a strange solution: it appears that if you have the Yoast plugin installed the problem will go away.

*Upsell plugins can cause problems with purchase tracking. If they add an intermediary page after the transaction, we have [a filter their developer can use to call our default Purchase event](https://bitbucket.org/snippets/the_mister/zeaXya)

**Are there any situations when the plugin will connect to outside sources?**

Yes, there are, and we will explain them here:

*We offer you the possibility to voluntarily subscribe to our newsletter and get valuable tips.  We manage our newsletter using ActiveCampaing. When you subscribe, we will call our server that intermediates the API connection, and then the data is sent to ActiveCampaign. The information that is passed: the name you provide and the email. If you check the "I use WooCommerce" checkbox, we will add this information as a tag, to give you better tips in the future.

*Add-on updates: the plugin works with free or paid add-ons (for Pinterest, Bing, etc) that we provide and host on our server. When you install such an add-on, we will do checks for updates. If you have a valid license for the add-on, we will automatically download the latest version of the add-on from our servers. The core plugin (PixelYourSite itself) updates are provided using WordPress own servers.

*When you install a pixel or a tag (like the Facebook Pixel or Google Analytics), the script will call for their specific files. These scripts are hosted on their servers (Facebook's servers, Google's servers).

*If you install scripts using our Head & Footer option, these scripts may load files from third-party servers. You can check this using your browser's Console.

**Do you record data about the websites' traffic**

NO, absolutely not! We don't track any type of data about your website. We simply implement the pixel/tag code.



== Screenshots ==

1. Add your Facebook pixel ID, Google Analytics ID, or Pinterest ID.
2. You don't have to copy/paste all the Facebook pixel code, but just the pixel ID. You can find it in your Ads Manager, under the Pixels link.
3. You just need your Google Analytics Tracking ID, not the full code.
4. You simply need your Pinterest Tag ID.
5. You can exclude user roles from tracking (like Admin), so they won't affect your stats.
6. You can allow other user roles to use the plugin.
7. The Global Events are fired automatically, tracking important actions and data.
8. The GeneralEvent is fired on every page, tracking important data about your content.
9. The Search event tracks searches. WooCommerce searches are Dynamic Ads ready.
10. The Form event is fired when a form is submitted.
11. The Comment event tracks comments.
12. The Downloads event tracks downloads. You can configure the file types.
13. You can fire your own events with NO coding.
14. Events have flexible triggers and can be sent to Facebook, Google Analytics, or Pinterest.
15. WooCommerce comes with Facebook Dynamic Ads events, Google Analytics Enhanced Ecommerce, and Pinterest e-commerce configuration.
16. You can track value for each WooCommerce events, plus other useful parameters.
17. The AddToCart event can be fired on cart buttons, cart page, or checkout page.
18. Easy Digital Downloads integrations comes with Facebook Dynamic Ads events, Google Analytics Enhanced Ecommerce, and Pinterest e-commerce setup.
19. Test your Facebook pixel with Pixel Helper Chrome extension.
20. Test your Google Analytics code with Google Tag Assistant Chrome extension.
21. Test your Pinterest tag with the Pinterest Tag Helper Chrome extension.
22. With the Head & Footer option you an add ANY script. There's an option to insert scripts on the  WooCommerce order-received page .
23. You'll have an option to insert scripts on any pages or posts.



== Changelog ==

= PixelYourSite 11.0.1.2 =

July 23, 2025

* Fixing warnings on PHP 8.3 and some other small changes.

* Small text changes.


= PixelYourSite 11.0.1.1 =

July 17, 2025

* Fix for a problem related to our paid add-ons update process that could have resulted in a slower backend. 

= PixelYourSite 11.0.1 =

July 16, 2025

* WooCommerce Purhcase event has some extra optional fields that can be needed for Google Conversion with Card Data (CwCD). Can be useful when configuring Google Automated Discounts inside Google Merchant. 

* Improving the way we handle updates for the extra add-ons (Pinterest, Bing).

* Fixing an issue with the Head and Footer scripts.

* Fixing a warning "constant PYS_VIEW_PATH is undefined."

* Video link updates. 

* Small UI changes to reflect pro version new options (fire event when a form field gets data, track WooCommerce product and cart parameters for custom events).

= PixelYourSite 11.0.0.4 =

July 2, 2025

* Improving the speed for WooCommerce variable products with a very large number of variations. 

* Fixing a possible issue with Avada theme. 

= PixelYourSite 11.0.0.3 =

June 17, 2025

* Code changes related to the way we send custom and partner-defined events for the Pinterest add-on.

* Consent integration with Webtoffee, a paid add-on for CookieYes. 

* Small code improvements.

* Small text changes and corrections. 


June 17, 2025

= PixelYourSite 11.0.0.2 =

June 2, 2025

* Fixing a bug related to new events settings. 

* Fixing a bug related to the GTM template download. 



= PixelYourSite 11.0.0.1 =

May 30, 2025

* Fixing a bug that prevented our notification from closing - sorry about that!

* Improving the way we handle licenses for the paid add-ons. 



= PixelYourSite 11.0.0 =

May 29, 2025

* New User Interface

* Code refactoring and improvements. 

* Fixed problem with empty $product object

* Fixed getting categories for view_item event (GA) in FREE version


= PixelYourSite 10.2.1 =

May 7, 2025

* Bing Consent Mode support when our dedicated Bing add-on is used. 

= PixelYourSite 10.2.0.2 =

April 16, 2025

* Fixed a potential issue with WooCommerce variations IDs when hooks were selected for the AddToCart event. 

* Fixed a potential conflict with a discount plugin.

* WordPress 6.8 compatibility check.

= PixelYourSite 10.2.0.1 =

April 15, 2025

* Changes and improvements in the way the plugin works with caches.


= PixelYourSite 10.2.0 =

April 7, 2025

* Social Connect by PixelYourSite (new plugin) integration: PixelYourSite can use the facebook_login_id for Meta, increasing Meta EMQ score and improving tracking performance.

* Fixing a possible issue resulting in GDPR filters loading twice. 

* Fixing a small bug resulting in “PHP Warning: Undefined array key “REMOTE_ADDR…”

* Other small code improvements. 


= PixelYourSite 10.1.3 =

March 31, 2025

* Fixing a possible issue with the Google dataLayer names.

* Updating Google noscript image URL to reflect the current v 2 version.

* Fixing the short description in the readme file to fit the 150 characters limit. 

* Declaring support for WooCommerce 9.7


= PixelYourSite 10.1.2.2 =

March 4, 2025

* Fix for a code problem potentially resulting in PHP Fatal error: Uncaught TypeError: call_user_func_array(): Argument #1 ($callback) must be a valid callback, function "adminNoticeUADismissHandler" not found or invalid function


= PixelYourSite 10.1.2 =

February 28, 2025

* Fixing a possible error in the code.

= PixelYourSite 10.1.1.2 =

February 28, 2025

* Small code improvements and security enhancements. 

* Declaring compatibility for WooCommerce 9.7

= PixelYourSite 10.1.1.1 =

February 19, 2025

* Small code change to avoid errors when unsupported versions of Pinterest or Bing add-ons are used. 

= PixelYourSite 10.1.1 =

February 19, 2025

* Fixing a potential resulting in the "Disable the plugin for known web crawlers" option could not be changed. 

* Fixing a bug related to custom event duplication. 

* Ensuring compatibility with the rennet version of the Pinterest and Bing add-ons.

* Small UI changes. 

= PixelYourSite 10.1.0 =

February 5, 2025

* New events triggers: Home page, Page scroll, Post type.

* New events conditions: URL Contains, URL Match, Device, User role.

* A new filter for Meta Limited Data Use. Developers of consent solutions can use it to control LDU for our Meta pixel and CAPI events. This filter is already used by ConsentMagic (our consent plugin) when the LDU option is enabled. ConsentMagic has a LDU consent rule targeting supported US states. 

* Vide links updates.

* We replaced internal used images with the SVG format.

* Fixing a possible error with /includes/class-custom-event.php around line 292

* Fixing possible issues and code improvements. 


= PixelYourSite 10.0.4 =

January 16, 2025

* New Meta settings allow you to disable event parameters that can track Protected Health Information (PHI). Recommended for websites with medical content. 

* Fixing some possible issues with WooCommerce events values when taxes are used. 

* Fixing a possible issue with Sunshine Photo Cart Checkout

* Fixing a possible issue with Cookiebot. 

* Fixing a small problem with GTM scripts when the option is turned OFF. 

* Updating the UI to reflect pro triggers for WooCommerce websites. 


= PixelYourSite 10.0.3.1 =

December 27, 2024

* Small code changes to ensure that Google tags installed by third-party solutions are in no way affected by the plugin when no Google tag ID is present in the settings. 

= PixelYourSite 10.0.3 =

December 17, 2024

* New options allow control of how tracking works for subdomains-domain environments (our native landing page, traffic source, and UTMs tracking). The free version tracks this data for WooCommerce and EDD orders. The pro version tracks it as events parameters too, and makes it available in dedicated reports.

* A new event that tracks 404 errors – Google Analytics (default ON) and GTM (default OFF). 


= PixelYourSite 10.0.2 =

December 4, 2024

* New events trigger that allows you to easily track the home page.

* Fixing possible issues with GTM scripts controls.

* Fixing a bug with the GTM container template download resulting in an empty file. 

* Security enhancements. 

= PixelYourSite 10.0.1.2 =

November 25, 2024

* New option that allows to hide our tracking values on the WooCommerce and Easy Digital Downloads order pages. 

* Fix for a possible issue with Elementor Pro.

= PixelYourSite 10.0.1.1 =

November 21, 2024

* Fix for a possible conflict with Elementor Pro.

= PixelYourSite 10.0.1 =

November 19, 2024

* New options related to our native Google Tags data layer are available on the Google Tags Settings page. You can choose between our default names (dataLayerPYS – RECOMMENDED), the usual name, dataLayer (it can create conflicts when using our native tags along our GTM integration), or a custom name. These options are useful if there are conflicts between our names and the names declared by external scripts. 

* Send just the data layer option for our GTM integration. 

* WooCommerce and EDD events values updated: value options will now affect all the tags. We recommend sending value to Purchase events, but value is also supported for product events, cart events, and checkout events.

* ON/OFF options for each tag added on the main page. We removed almost similar options from the tags settings pages. 

* New options for GTM custom events: add automated parameters in the data layer, remove the customTrigger object, use a custom name for the custom parameters object. 

* Fixing a small bug related to the GTM object name used to track custom event parameters. 



= PixelYourSite 10.0.0 =

October 29, 2024

This is a major update, it's highly recommended to clear all your caches.

* New integration with Google Tag Manager.

* GTM Container import file. Version 1.0 of the file will configure triggers for all our events, variables for all our parameters, and GA4 tags. You must edit the GA4 ID variable. 

* Improve capabilities to block bots from triggering events. 

* An option to exclude bots from being blocked based on user-agent name. Useful for websites using cache pre-load options.

* A new option to disable all native tags directly from the main page. 

* Various small UI changes to reflect recent changes in the paid version. 

* New video links. 

* Video notifications updated and simplified. We reduced the number of notifications from 9 to 3. Users that already saw them, might see a single new one about the new GTM features and Meta EMQ score. 

* Declaring compatibility with the recent WooCommerce version. 



= PixelYourSite 9.7.2 =

August 28, 2024

* Fix for a possible bug related to Litespeed cache. 

* Fix for a possible bug related to Funnelkit checkout pages.

* Fix related to the URL parameters events trigger logic.

* Security enhancement related to the API logs. Now access is restricted based on the pluginâ€™s permission settings. Only user types with permission can download the logs. 

* UI changes to reflect some of the new PRO version features (Google Tag user data support  for multiple values, URL parameters tracking for API user data events, form fields tracking for events parameters, data persistency option for API user data, WSForm integration). 


= PixelYourSite 9.7.1 =

July 31, 2024

* New Global Settings page. We move all the global settings from the dashboard to this dedicated page. 

* New options regarding external IDs. We now store a temporary value for external IDs using transients for up to 10 minutes, creating the premises to detect returning traffic based on IP addresses even when itâ€™s done from a different browser or device. This can be turned OFF on the Global Settings page.

* Improved way to generate external IDs to fix missing values in some instances.

* Possible improvements to the way we fire the Purhcase event for some particular WooCommerce setups. 

* Various UI changes to reflect new features in the pro version, like the page view number trigger for events. 

* Declaring compatibility with WordPress 6.6.

= PixelYourSite 9.7.0.1 =

July 15, 2024

* Fixing possible error, Uncaught Error: Call to a member function get_price() on bool

* Fixing possible error, database error The SELECT would examine more than MAX_JOIN_SIZE rows

* Fixing possible error, PHP Warning: Undefined array key "HTTP_USER_AGENT"

* Declaring WooCommerce 9.1 compatibility.

= PixelYourSite 9.7.0 =

July 9, 2024

* Unified event ID logic that can help with Google Tag Manager server-side integration when browser and APIs are used. 

* Fixing possible  issues with WPRocket.

* Fixing a possible issue with Fluent Form events. 

* Declaring compatibility for the current WooCommerce version.

* Other small code improvements.


= PixelYourSite 9.6.2 =

* The GA4 server container URL option is OFF by default.
 
* Code improvements.

* New video links.

* WooCommerce 9.0 support declared. 

= PixelYourSite 9.6.1.1 =

* Improving the way the plugin works when caches or multiple caches are used. Fixing possible issues with event IDs, and API events. 

* Fixing a possible issue with WooCommerce ViewContent value.

* Fixing a possible issue with the GA4 server container URL. 

* Fixing other small bugs and warnings. 


= PixelYourSite 9.6.1 =

* New options for the Google Analytics tags related to GTM server containers. This is still in beta.

* New ON/OFF Ajax option for API events. It allows you to disable Ajax for static API events if there are problems when loading the page (such as updating the WooCommerce cart).

* Fixing a possible problem with API events triggered by crawlers, or other non-visitor-related activities. This resulted in a very large number or API events compared to browser events. 

* The crawler filter for API events is always turned ON. 

* Improving the way we track and generate fbp. This can lead in time to better conversion tracking.

* New video links and small UI changes.




= PixelYourSite 9.6.0.1 =

* Fix for a possible error when no Meta pixel ID was configured. 

* WooCommerce 8.9 compatibility declared. 

* Video updated on the plugin's Description page. 


= PixelYourSite 9.6.0 =

* Google Analytics server container Url: you can send GA4 data to a GTM server side container. 

* Notifications will be closed for all users, not just the one clicking on the hide option.

* Fixing various warnings and small bugs( PHP Warning: Undefined array key)


= PixelYourSite 9.5.5 =

* Fixing a possible issue where the tags were permanently blocked by some consent plugins.


= PixelYourSite 9.5.4 =

* Improvements in how we track Meta Conversion API fbc parameters. 

* Changes regarding ConsentMagic cache option. 

* WooCommerce 8.7 compatibility. 


= PixelYourSite 9.5.3 =

* Google Consent Mode is activated by default. You can change this on the Google Tags Settings page. The plugin sends Google events with consent parameters values as â€œgrantedâ€. Itâ€™s recommended you have a consent plugin that manages usersâ€™ consent. Our own solution is called ConsentMagic. 

* New option to disable PHP session use. If you have problems with PHP sessions, turn this OFF. 

* Fixing various bugs and code improvements. 

= PixelYourSite 9.5.2 =

* Automated events parameters for Google tags were updated to match the data sent to the other type of tags. These parameters can be used to create custom dimensions.

* Fixing a possible issue on WooCommerce order confirmation pages for non-existing order IDs.

* Fixing a possible issue related to importing Google custom events configured with the free plugin when the pro version is installed.

* Video links updated.

= PixelYourSite 9.5.1.1 =

* Fix for an issue related to PHP sessions.


= PixelYourSite 9.5.1 =

* Fix for an issue with Google Analytics missing the default PageView event fired by the tag.

* Additional changes to the Real Cookie Banner related code to avoid some possible issues. 


= PixelYourSite 9.5.0.1 =

* Fix for a conflict with Real Cookie Banner.

= PixelYourSite 9.5.0 =

* Google Consent Mode V2 option that will configure the Google Analytics tag with consent granted. Recommended for websites that use a consent plugin that blocks/unblocks the tags based on users' preferences, or websites that don't need to block Google tags (non EU traffic).

* Google Consent Mode V2 support via dedicated filters. Recommended for consent plugin developers. 

* Google Consent Mode V2 full integration with the ConsentMagic plugin. [Details here)[https://www.pixelyoursite.com/google-consent-mode-v2-wordpress]

* New video links (new features, or updated videos).

* New option: disable noscript. 

* Fixing various bugs and code improvements. 


= PixelYourSite 9.4.7.1 =

* Fixing a possible issue related to external ID option. 

* Fixing small bugs and code improvements.



= PixelYourSite 9.4.7 =

* Ensuring that a notification about Ajax and consent integrations can be closed. 

* Fixing a possible issue with events external IDs.

* Text updates and small UI changes. 

* WooCommerce compatibility check. 


= PixelYourSite 9.4.6 =

* Support for WooCommerce custom fees for the Purchase event value. Now the fees will be included in the value. 

* Fix for a possible issue with external IDs when coaches are used. 

* Improvements related to how we handle excluded IPs. 

* Improvements related to how we handle Elementor custom thank you pages for WooCommerce.

* Declaring compatibility with WooCommerce 8.1.


= PixelYourSite 9.4.5.1 =

* Fix for a possible fatal error on related to an empty WooCommerce cart.


= PixelYourSite 9.4.5 =

* New view_cart event for WooCommerce sent to GA4.

* Fix for a possible warning related to header being set. 

* Small changes to ensure full compatibility with WooCommerce HPOS.


= PixelYourSite 9.4.4 =

* Fixing a number of bugs from the previous version that could break Elementor or Divi editors, or post previews.


= PixelYourSite 9.4.3 =

* Expanding the pys_gdpr_ajax_enabled filter to control the cookie-related filters

* Fixing possible Error message: Uncaught Error: Call to a member function.

* Fixing possible Warning: Cannot modify header information ...plugins/pixelyoursite/includes/class-events-manager.php on line 573.

* Video link updates to include a video about ChatGPT and PixelYourSite.


= PixelYourSite 9.4.2 =

* Declaring compatibility with WordPress 6.3.

* Declaring compatibility with WooCommerce 8.0.

* Fixing a bug that could result in a warning regarding "Cannot modify header information". 


= PixelYourSite 9.4.1 =

* Fixing a few small code issues that could result in warnings.

* Ensuring compatibility with the recent versions of Pinterest and Bing paid add-ons.

* Video link updates.

* Declaring compatibility with WooCommerce 7.9.


= PixelYourSite 9.4.0.1 =

* Fix for a possible issue, Fatal error: Uncaught Error: Call to undefined function PixelYourSite\Tiktok()..


= PixelYourSite 9.4.0 =

* External ID support for Meta browser and API events.

* Fix for an issue with Contact Form 7 forms within Elementor popups where the form was not correctly tracked. 

* Code changes required by the Pinterest add-on for API support.


= PixelYourSite 9.3.9 =

* New consent filters that can control the pluginâ€™s cookies, explained on the pluginâ€™s Consent page. 

* Fixing a possible issue with non-script tags and consent filters.

* Fixing a possible issue resulting in traffic source, landing page and UTMs not being tracked as events parameters, or stored for WooCommerce orders.

* WooCommerce 7.8.0 compatibility check.


= PixelYourSite 9.3.8.1 =

* Fixing a possible error related to GA4 WooCommerce category tracking, resulting in a warning triggered on the order confirmation page. 


= PixelYourSite 9.3.8=

* New options related to WooCommerce variable products and Google Analytics 4 (GA4).

* Support for multiple WooCommerce categories tracking with Google Analytics 4 (GA4).

* Fixing some issues related to Head and Footer scripts.

* Fixing a possible issue with the WooCommerce purchase event resulting in the event being fired on the wrong pay page.

* Meta SDK update.


= PixelYourSite 9.3.7=

* Support for Elementor Pro WooCommerce custom thank you pages ensuring the purchase event is fired.

* Additional checks for user role permissions for the Head and Footer option. Only roles with unfiltered_html permission will be able to use it. Thatâ€™s admin for single WordPress or super admin for multisite. These permissions can be controlled with dedicated plugins. 

* Fix for a possible issue with Easy Digital Downloads add-to-cart events, where the events were not fired in some instances. 

* Fix for a potential problem related to CompleteRegistration events not respecting settings.

* UI and text changes to reflect paid version new features related to Google Measurement Protocol.


= PixelYourSite 9.3.6=

* Notification for users that don't have the Meta CAPI token.

* Small code changes to ensure compatibility with ConsentMagic.

* Fixing a potential problem with traffic data stored for WooCommerce orders.

* Small UI changes.


= PixelYourSite 9.3.5=

* Fix for an issue with the additional data we track for WooCommerce or Easy Digital Downloads orders. 


= PixelYourSite 9.3.4 =

* WooCommerce 7.5 compatibility check.

* Fixing a possible conflict with Oxygen Builder.

* Fixing a possible bug with sites using themes that are missing some default scripts, resulting in tags not being fired. 

* Fixing various deprecation warnings.

* Fix for Fatal error: Access level to PixelYourSite\FormEventForminator::__construct


= PixelYourSite 9.3.3 =

* The Form automatic event will fire when forms are successfully submitted for the following plugins: Contact Form 7, Forminator, WP Forms, Formidable Pro, Ninja Forms, and Fluent Forms. For forms added by different means, we will fire the event when the submit button is clicked.

* New option that allows to remove the plugin's name from the browser's console. 

* Changes to ensure compatibility with the recent changes from the ConsentMagic plugin.

* WooCommerce 7.4 compatibility. 


= PixelYourSite 9.3.2 =

* Fix for an issue with WooCommerce logs: pixelyoursite.php is not a known WordPress plugin


= PixelYourSite 9.3.1 =

* Fixing a bug related to missing custom parameters for Meta CAPI events configured on the pluginâ€™s Events page.

* Declaring WooCommerce 7.3 compatibility.

* Important code improvements.

* Fixing other bugs.


= PixelYourSite 9.3.0 =

* Ensuring compatibility with WooCommerce High-Performance Order Storage (HPOS).

* Meta Conversion API test code will auto-delete in 24 hours.

* Changing the default method for WooCommerce AddToCart event in order to avoid a possible conflict with Elementor.

* Improvements for how we handle licenses and updates for extra add-ons (the Pinterest add-on, the Bing add-on).

* UI changes.

* Fix for a possible conflict with Brick theme.

* Fixing other bugs and code refactoring. 


= PixelYourSite 9.2.2 =

* New: hide the plugin for known web crawlers. This can prevent certain Ajax AddToCart WooCommerce buttons to fire CAPI events because of crawlers.

* New: hide the plugin for custom IP addresses. 

* Track WooCommerceâ€™s extra data (traffic source, landing pages, UTMs) even when no tag is installed in the plugin.

* Confirmation dialog when deleting events on the pluginâ€™s Events page.

* Google Consent Mode compatibility with ConsentMagic.

* Fix for a problem with Meta AddToCart IDs for WooCommerce variable items when SKU is used.

* Fix for a conflict with Bricksbuilder editor.

* Some other small changes and code improvements.

* WooCommerce 7.1 compatibility.

* WordPress 6.1 compatibility.


= PixelYourSite 9.2.1 =

* Improvements on how the plugins tracks and sends fbp and fbc for Meta CAPI events. In time, this will lead to an improved EMQ score and overall better ads attribution.

* New option to remove the post_category parameter, as required by some users.

* UI changes to reflect new features in the PRO version of the plugin: Advanced user-data detection for forms.

* Updates to our notifications. We now show a number of notifications with tips about the plugin and tracking in general. These notifications can be close individually. Each notification has a button that will turn OFF all notifications at once.

* WooCommerce 7.0 compatibility.


= PixelYourSite 9.2.0 =

* New: track and store the traffic source, landing page, UTMs for WooCommerce orders. This helps you identify what generates your sales. [Watch this video for more info](https://www.youtube.com/watch?v=4VpVf9llfkU)

* New: track and store the traffic source, landing page, UTMs for Easy Digital Downloads orders. This helps you identify what generates your sales. [Watch this video for more info](https://www.youtube.com/watch?v=kh17Ik9z5tI)

* Meta API update.

* WooCommerce compatibility check.

* Easy Digital Downloads 3.0 compatibility check.



= PixelYourSite 9.1.1 =

* Fix for potential warning or fatal error related to pixelyoursite/includes/functions-migrate.php on line 24


= PixelYourSite 9.1.0 =

* Automated events are turned ON by default.

* The legacy Signal event is removed.

* Video links updated.

* Code refactoring. 


= PixelYourSite 9.0.0 =

* [WATCH THIS VIDEO](https://www.youtube.com/watch?v=625_GpjqEZE) to find out more about this update. We are replacing the Signal event with individual automatic events tracking each action. These events are reported by Google Analytics 4 and can be used for audiences or conversions on Meta (Facebook), Google Analytics, Google Ads, and for audiences on Pinterest, Bing, or TikTok. This version still fires the old Signal event by default and you need to manually turn it OFF and enable the automatic events. Version 9.1 will completely remove the Signal event and enable the automatic events by default. If you have audiences or conversions based on the Signal events, replace them using the new events.

* Bug fix: possible issue with Bing purchase event (for the Bing paid add-on users).

* WooCommerce variable products speed improvement.

* Code improvement to avoid a possible error for sites that donâ€™t use WooCommerce.

* New filter that lets developers get the Facebook CAPI event IDs.
Usage example:

add_filter(â€œpys_before_send_fb_server_eventâ€,â€pys_testâ€,10,3);
function pys_test($event,$pixelId,$eventId) {
error_log(â€œSend event for pixel $pixelId id = $eventIdâ€);
return $event;
}

It is called before the event is sent to the FB server
3 parameters:

â€“ the first one is the event object with all the data

â€“ the second is the pixel id

â€“ and the third is the event id, rendered it separately

You need to take into account that our events are mainly sent via Ajax after the page has loaded.



= PixelYourSite 8.2.18 =

* Video links update.

* UI update to reflect new paid features (WooCommerce offline conversion export for Facebook, conversion ID prefix for WooCommerce and EDD).

* Changes on how updates work for the Pinterest add-on.

* WooCommerce 6.3 compatibility check.

* Possible bug fixes (post or product editor conflict).


= PixelYourSite 8.2.17 =

* UI changes to reflect some paid features: WooCommerce split advanced purchase tracking for Facebook and Google Analytics.

* UI changes to reflect some paid features: Easy Digital Downloads recurring trading for Facebook and Google Analytics.

* Fixing some potential issues related to the Pinterest add-on. 

* Fixing other small code issues.

* WooCommerce 6.2 compatibility check. 


= PixelYourSite 8.2.16 =

* Terminology change, we are now using "The Meta Pixel" along with "The Facebook Pixel".

* Fix for a possible issue with WooCommerce variable products that have a large number of variations creating a loading page speed problem. 

* Video link updates.

* WordPress 5.9 compatibility. 

* WooCommerce 6.1 compatibility. 



= PixelYourSite 8.2.15 =

* Fix for a possible critical error related to older versions of the Pinterest add-on.

* WooCommerce 6.0 compatibility check.



= PixelYourSite 8.2.14 =

* Code refactoring to ensure compatibility with our extra add-ons.

* Code changes to ensure full compatibility with ConsentMagic.com.



= PixelYourSite 8.2.13 =

* Small UI changes to reflect TikTok Tag support with PixelYourSite Professional.

* Video links updates.



= PixelYourSite 8.2.12 =

* Fixing a potential problem with Signal events fired for forms buttons. 

* Fixing a bug related to Dynamic Ads for Blog Setup.

* WooCommerce 5.9 update.


= PixelYourSite 8.2.11 =

* Fixing some small bugs, please update.


= PixelYourSite 8.2.10 =

* fixing a small issue with the previous update


= PixelYourSite 8.2.9 =

* Google Analytics property format auto detection: the plugin will automatically detect the old UA and the new GA4 properties, sending events in the correct format. The paid version will allow to run both type at the same time.

* Facebook API update.

* Various bug fixes and code improvements.



= PixelYourSite 8.2.8 =

* Fix for a potential issue with the AddToCart event.

= PixelYourSite 8.2.7 =

* Improvements regarding how WooCommerce related events are fired.

* Signal event removed for Pinterest tag. This change affects only users of our free Pinterest Tag add-on. The Signal event is no longer fired for Pinterest, because it was not easy to use it for audiences or conversions. If the default events fired by the plugin are not enough, consider adding your own Pinterest events on the plugin's Events page.

* WooCommerce 5.6 compatibility.

* Small UI change: Notification about CartFlows integration.

* New option to store logs for Facebook CAPI events. 

* Other code changes.


= PixelYourSite 8.2.6 =

* UI update to reflect the [new integration with CartFlows available in PixelYourSite Professional](https://www.pixelyoursite.com/cartflows-and-pixelyoursite)
* WordPress 5.8 compatibility check



= PixelYourSite 8.2.5 =

* Facebook API update, Conversion API related.



= PixelYourSite 8.2.4 =

* Facebook API update.

* WooCommerce 5.4 compatibility. 


= PixelYourSite 8.2.3 =

* Video links updates.

* Fix for a potential error with ConsentMagic integration.


= PixelYourSite 8.2.2 =

* New option to remove the URL tags from the download_url parameter. It can help to avoid privacy warnings from Facebook.

* New UI around enriched order data for emails and orders.

* Better integration with ConsentMagic.

* Other code improvements and small fixes.



= PixelYourSite 8.2.1 =

* New options to turn ON/OFF most global, WooCommerce, Easy Digital Downloads events parameters. Use it if Facebook shows privacy warnings related to some parameters. [You have a video](https://www.youtube.com/watch?v=sM9yNkBK6Eg) about it linked on the pluginâ€™s main page. 

* WooCommerce 5.3 compatibility check.

* Some other code improvements and small bug fixes.



= PixelYourSite 8.2.0 =

* Full support for [ConsentMagic.com](https://www.consentmagic.com)


= PixelYourSite 8.1.1 =

* Remove parameters from event_source-url. This is a mandatory parameter for Facebook Conversion API events. If the URL contains parameters that include personal data, it will trigger privacy working on Facebook. To avoid this problem we are now removing all URL parameters for this event. If you think you need them, you have toggle to add them back on the pluginâ€™s main page.

* Dynamic Ads for Blogs events are now OFF by default.

* Fixes for various small bugs, PHP warnings, or potential errors.



= PixelYourSite 8.1.0 =

* Significant UI improvements.

* New option to verify your domain on Facebook using a meta-tag. [Watch this video for details](https://www.youtube.com/watch?v=lLXZW5eZt4o)


= PixelYourSite 8.0.9 =

* Fix for a potential issue: Uncaught Error: Call to a member function get_type() on bool

* WordPress 5.7 compatibility.

* WooCommerce 5.1 compatibility.


= PixelYourSite 8.0.8 =

* Facebook API 10 update. Some Pixel IDs were not sending Conversion API events with the old API version.

* Support for the Real Cookie Banner plugin

* Fixes for various issues related to the way the AddToCart fires and problems with some themes, third-party plugins, or custom code.

* UI update to reflect some new PixelYourSite Professional features: landing_page parameter, save data to WooCommerce and EDD orders and user profiles.


= PixelYourSite 8.0.7 =

* Fix for a potential problem with AddToCart not being fired on single product pages.

* Fix for a potential problem with the AddToCart fired twice on single product pages.

* Fix for a potential problem with the mobile menu of the Porto theme.

* Fix for a potential conflict between the Bing add-on and a product filter plugin.

* Update for the [Facebook CAPI help link](https://www.pixelyoursite.com/facebook-conversion-api-capi) inside the plugin.



= PixelYourSite 8.0.6 =

* Fix: missing AddToCart IDs when "treat variable products like simple products" is enabled.


= PixelYourSite 8.0.5 =

* Fix for a potential JS error.

* Fix for an error that could lead to duplicated AddToCart events.

* Tweaks to Facebook Conversion API that might help fix issues we noticed with some hostings.



= PixelYourSite 8.0.4 =

* FIX: Warning: Invalid argument supplied for foreach() .... wp-content/plugins/pixelyoursite/includes/functions-common.php on line 688

* FIX: WooCommerce group products possible value issue.

* FIX: Possible problem with Easy Digital Downloads add to cart.



= PixelYourSite 8.0.3 =

* FIX: some encoding problems with parameter values.

* FIX: Greek language issue.


= PixelYourSite 8.0.2 =

* Fix for a potential fatal error: PHP Fatal error: Cannot use FacebookAds\Object\ServerSide\Event as Event because the name is already in use 


= PixelYourSite 8.0.1 =


* Fixing a mismatch with version numbers.


= PixelYourSite 8.0.0 =

This is a major update. Please [visit this page](https://www.pixelyoursite.com/pixelyoursite-v8) for more info about what's new with V8.

* New section showing how many active events you have.

* A new set of common parameters added to all events from all installed tags. You can find a list of the common parameters on the pluginâ€™s main page.

* A new Signal event that replaces most Global Events. You can find its settings on the pluginâ€™s main page.

* We removed the GeneralEvent. If you have audiences or conversions based on it, you need to replace them. Itâ€™s a good idea to use the default Page View event instead.

* All events fired automatically (Signal, Search, WooCommerce events, Easy Digital Download events) have a new ON/OFF button visible before you open the eventâ€™s settings.

* We turned off some of the less popular WooCommerce and EDD events. You can turn them back on if you need to.

* Update for Facebook API.

* Update for some mandatory CAPI events parameters.

* Fix: issue with Oxygen builder.

* Fix: Uncaught Error: Class â€˜PYS_PRO_GLOBAL

* Other small code changes.


= PixelYourSite 1.0 =

* A new plugin is born: It will let you manage the Facebook Pixel with just a few clicks


== Upgrade Notice ==

= 5.0 =

Version 5.0 comes with full Easy Digital Downloads integrations plus the ability to give each WooCommerce and EDD event a global value.